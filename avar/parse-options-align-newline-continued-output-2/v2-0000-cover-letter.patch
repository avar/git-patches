From a636b72893beec8e69a670a04a7c9456459cffe4 Mon Sep 17 00:00:00 2001
Message-Id: <cover-v2-0.6-00000000000-20210910T134917Z-avarab@gmail.com>
In-Reply-To: <cover-0.2-00000000000-20210901T110917Z-avarab@gmail.com>
References: <cover-0.2-00000000000-20210901T110917Z-avarab@gmail.com>
From: Ævar Arnfjörð Bjarmason <avarab@gmail.com>
Date: Fri, 10 Sep 2021 15:49:17 +0200
Subject: [PATCH v2 0/6] *** SUBJECT HERE ***
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

*** BLURB HERE ***

Ævar Arnfjörð Bjarmason (6):
  test-lib.sh: add a UNIX_SOCKETS prerequisite
  git: add a NEED_UNIX_SOCKETS option for built-ins
  built-ins: "properly" align continued usage output
  parse-options: stop supporting "" in the usagestr
  parse-options: properly align continued usage output
  send-pack: properly use parse_options() API for usage string

 Documentation/git-send-pack.txt    |  4 +-
 builtin.h                          |  6 +++
 builtin/blame.c                    |  9 ++--
 builtin/credential-cache--daemon.c | 11 +----
 builtin/credential-cache.c         | 11 +----
 builtin/ls-remote.c                |  4 +-
 builtin/rev-parse.c                |  3 ++
 builtin/send-pack.c                |  8 ++--
 builtin/show-branch.c              |  6 +--
 builtin/stash.c                    |  2 +-
 builtin/tag.c                      |  4 +-
 git.c                              | 15 +++++--
 parse-options.c                    | 71 ++++++++++++++++++++++++------
 t/helper/test-parse-options.c      |  2 -
 t/t0012-help.sh                    | 10 +++++
 t/t0040-parse-options.sh           |  2 -
 t/t0301-credential-cache.sh        |  5 ++-
 t/t1502-rev-parse-parseopt.sh      | 16 -------
 t/test-lib.sh                      |  1 +
 19 files changed, 112 insertions(+), 78 deletions(-)

Range-diff against v1:
-:  ----------- > 1:  7f75efbf751 test-lib.sh: add a UNIX_SOCKETS prerequisite
-:  ----------- > 2:  20168988212 git: add a NEED_UNIX_SOCKETS option for built-ins
1:  ccc024c414f ! 3:  509a89a5273 built-ins: "properly" align continued usage output
    @@ builtin/stash.c: static const char * const git_stash_push_usage[] = {
      
     
      ## builtin/tag.c ##
    -@@ builtin/tag.c: static const char * const git_tag_usage[] = {
    - 		"\t\t<tagname> [<head>]"),
    +@@
    + 
    + static const char * const git_tag_usage[] = {
    + 	N_("git tag [-a | -s | -u <key-id>] [-f] [-m <msg> | -F <file>]\n"
    +-		"\t\t<tagname> [<head>]"),
    ++	   "        <tagname> [<head>]"),
      	N_("git tag -d <tagname>..."),
      	N_("git tag -l [-n[<num>]] [--contains <commit>] [--no-contains <commit>] [--points-at <object>]\n"
     -		"\t\t[--format=<format>] [--merged <commit>] [--no-merged <commit>] [<pattern>...]"),
2:  ab4bb70902b < -:  ----------- parse-options: properly align continued usage output
-:  ----------- > 4:  2a1d8346cc5 parse-options: stop supporting "" in the usagestr
-:  ----------- > 5:  27044b4cd8d parse-options: properly align continued usage output
-:  ----------- > 6:  a636b72893b send-pack: properly use parse_options() API for usage string
-- 
2.33.0.873.g125ff7b9940

